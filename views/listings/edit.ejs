<% layout("layouts/boilerplate") %>
<div class="row mt-3">
  <div class="col-8 offset-2">
    <h3>Edit your Listing</h3>
    <form
      action="/listings/<%=listing._id%>?_method=PUT"
      method="POST"
      novalidate
      class="needs-validation"
      enctype="multipart/form-data"
    >
      <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input
          type="text"
          name="listing[title]"
          value="<%=listing.title%>"
          class="form-control"
          required
        />
        <div class="valid-feedback">Title looks good!.</div>
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea
          type="text"
          name="listing[description]"
          class="form-control"
          required
        >
 <%=listing.description%> </textarea
        >

        <div class="invalid-feedback">Give a short description.</div>
      </div>

      <div class="mb-3">
        <p>Original image</p>
        <img src="<%= originalImageUrl %> %>" alt="old-img" width="300px" />
      </div>
      <div class="mb-3">
        <label for="image" class="form-label">Upload New Image </label>
        <input type="file" name="listing[image]" class="form-control" />
      </div>

      <div class="row">
        <div class="mb-3 col-md-4">
          <label for="price" class="form-label">Price </label>
          <input
            type="number"
            name="listing[price]"
            value="<%=listing.price%>"
            class="form-control"
            required
          />

          <div class="invalid-feedback">Please enter the price.</div>
        </div>

        <div class="mb-3 col-md-8">
          <label for="country" class="form-label">Country</label>
          <input
            type="text"
            name="listing[country]"
            value="<%=listing.country%>"
            class="form-control"
            required
          />

          <div class="invalid-feedback">Country name should be valid.</div>
        </div>
      </div>

      <div class="mb-3">
        <label for="location" class="form-label">Location</label>
        <input
          type="text"
          name="listing[location]"
          value="<%=listing.location%>"
          class="form-control"
          required
        />

        <div class="invalid-feedback">Location should be valid.</div>
      </div>

      <button class="btn btn-dark edit-btn mt-3">Edit</button>
    </form>
  </div>
</div>

<!-- if this will not add then validations and their class will not work so we have to add this which is present in the 
inside the public and js folder where we have copy the code from bootstrap cdn and paste it inside script tag of our html file. -->
<!-- <script src="/js/script.js"></script> -->
